## Understand How React.lazy Communicates Loading Status to Supense and Error Boundaries

Suspense and the [Error Boundaries](https://reactjs.org/docs/error-boundaries.html) recieves information about the status of the `import` function that acts as a [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)  wrapper. A [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)  have 3 status, `pending`, `rejected`  and `resolved`.

A way to understand how `React.lazy` handle this statuses is to manually mock each of those. To do this we just need to modify the code a bit to replace the call to import by a simple Promise that is rejected,
like

```
const PokemonDetail = React.lazy(() => Promise.rejected())
```

This will render the Error boundary fallback,

for the pending status we need to return a resolved promise but at same time create the "time" situation to make the simulate the loading process for that we just create a new promise and return a `setTimeout` 
call

```
const PokemonDetail = React.lazy(
    () => 
        new Promise(resolve =>
            setTimeout(resolve, 1000)
        )
    )
```

This will show the Suspense boundary fallback showing the meage `Loading pokemon...` in the screen.

The last status is `resolved` that in the real application means that the module was imported successfully, to implement that we update the last code by replacing the empty call to `resolve` inside the  `setTimeout` with an call to an object that represent the imported module 

```
const PokemonDetail = React.lazy(
    () => 
        new Promise(resolve => 
            setTimeout(
                () => resolve({ default: () => <div>[Fake] Pokemon}),
                1000
            )
        )
    )
```

This will render the message `[Fake] Pokemon` showing what happens with all the data required from the module is available including latency and content.

Is important to keep in mind how each of the promises statuses relates with the different boundaries and components that are rendered
* **pending** will render the Suspense fallback
* **rejected** will render the Error Boundary fallback
* **resolved** will render the actual component 
